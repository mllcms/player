import{d as g,e as v,f,c as l,a as n,t as c,u as r,F as h,r as k,g as y,o as i,n as x,h as C,b,i as T}from"./index-4d79a302.js";import{a as B}from"./video-6bd9935a.js";const F={class:"video-container video-container-scale"},I=["src"],S=["onClick"],w=g({__name:"video",setup(V){const m=y(),p=b(),u=v(m.params.name),e=B(),s=v();f(async()=>{var a;await e.request(u.value),(a=document.querySelector("nav div.active"))==null||a.scrollIntoView(),s.value&&(s.value.addEventListener("timeupdate",function(){const o=this.currentTime,t=this.duration||9999,d={index:o,len:t,scale:o/t*100};e.select.progress=d}),s.value.currentTime=e.select.progress.index)});const _=a=>{e.select=a,T(()=>{s.value&&(s.value.currentTime=e.select.progress.index,s.value.play())})};return(a,o)=>(i(),l("div",F,[n("h2",null,c(u.value),1),n("button",{onClick:o[0]||(o[0]=t=>r(p).back())},"返回"),n("video",{class:"video",ref_key:"video",ref:s,src:r(e).select.path,controls:""},null,8,I),n("nav",null,[(i(!0),l(h,null,k(r(e).data,t=>(i(),l("div",{class:x(["item",{active:t==r(e).select}]),onClick:d=>_(t),style:C({backgroundImage:`linear-gradient(to right, #449DFC ${t.progress.scale}%,transparent 0%)`})},[n("p",null,c(t.name),1)],14,S))),256))]),n("h3",null,c(r(e).select.name),1)]))}});export{w as default};
