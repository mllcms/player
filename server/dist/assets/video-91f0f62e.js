import{d as g,e as v,f,c as l,a as n,t as c,u as r,F as h,r as y,g as k,o as i,n as x,h as C,b}from"./index-034e953e.js";import{a as T}from"./video-327d9a7a.js";const B={class:"video-container video-container-scale"},F=["src"],I=["onClick"],q=g({__name:"video",setup(S){const m=k(),p=b(),u=v(m.params.name),e=T(),s=v();f(async()=>{var a;await e.request(u.value),(a=document.querySelector("nav div.active"))==null||a.scrollIntoView(),s.value&&(s.value.addEventListener("timeupdate",function(){const o=this.currentTime,t=this.duration||9999,d={index:o,len:t,scale:o/t*100};e.select.progress=d}),s.value.currentTime=e.select.progress.index)});const _=a=>{e.select=a,setTimeout(()=>{s.value&&(s.value.currentTime=e.select.progress.index,s.value.play())},1500)};return(a,o)=>(i(),l("div",B,[n("h2",null,c(u.value),1),n("button",{onClick:o[0]||(o[0]=t=>r(p).back())},"返回"),n("video",{class:"video",ref_key:"video",ref:s,src:r(e).select.path,controls:""},null,8,F),n("nav",null,[(i(!0),l(h,null,y(r(e).data,t=>(i(),l("div",{class:x(["item",{active:t==r(e).select}]),onClick:d=>_(t),style:C({backgroundImage:`linear-gradient(to right, #449DFC ${t.progress.scale}%,transparent 0%)`})},[n("p",null,c(t.name),1)],14,I))),256))]),n("h3",null,c(r(e).select.name),1)]))}});export{q as default};
