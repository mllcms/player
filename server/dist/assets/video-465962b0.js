import{d as f,e as g,f as x,c as l,a,t as c,u as r,F as y,r as h,o as i,n as k,g as C,b}from"./index-dd1e59a7.js";import{a as I}from"./video-a4a103ea.js";const T={class:"video-container video-container-scale"},B=["src"],F=a("select",{name:"multiplier",id:"multiplier"},[a("option",{value:"1.75"},"1.75")],-1),S=[F],V=["onClick"],z=f({__name:"video",props:{name:null},setup(d){const u=d,v=b(),e=I(),n=g();x(async()=>{var t;await e.request(u.name),(t=document.querySelector("nav div.active"))==null||t.scrollIntoView(),n.value&&(n.value.currentTime=e.select.progress.index)});const m=()=>{const t=n.value.currentTime;if(!n.value||t<1)return;const o=n.value.duration||9999,s={index:t,len:o,scale:t/o*100};e.select.progress=s},p=()=>{const t=e.data.findIndex(s=>e.select==s),o=e.data[t+1];o&&(e.select=o)},_=()=>{n.value&&(n.value.currentTime=e.select.progress.index)};return(t,o)=>(i(),l("div",T,[a("h2",null,c(d.name),1),a("button",{onClick:o[0]||(o[0]=s=>r(v).back())},"返回"),a("video",{ref_key:"video",ref:n,class:"video",src:r(e).select.path,onEnded:p,onTimeupdate:m,onLoadstart:_,controls:"",autoplay:"",preload:"auto"},S,40,B),a("nav",null,[(i(!0),l(y,null,h(r(e).data,s=>(i(),l("div",{class:k(["item",{active:s==r(e).select}]),onClick:$=>r(e).select=s,style:C({backgroundImage:`linear-gradient(to right, #449DFC ${s.progress.scale}%,transparent 0%)`})},[a("p",null,c(s.name),1)],14,V))),256))]),a("h3",null,c(r(e).select.name),1)]))}});export{z as default};
